var documenterSearchIndex = {"docs":
[{"location":"comp/pst/#Phase-shifting-transformers-(PSTs)","page":"Phase shifting transformers","title":"Phase shifting transformers (PSTs)","text":"PSTs induce an equivalent voltage angle in the lines they are connected in series to by means of a voltage induction in quadrature of the line voltage, and control power flows based on that. In practise, the angle range of PSTs are given (instead of the voltage range), which is used in the power flow equations. This model is based on such PSTs.","category":"section"},{"location":"comp/pst/#Parameters","page":"Phase shifting transformers","title":"Parameters","text":"Set of parameters used to model phase shifting transformers as defined in the input data\n\nname symb. unit type default definition\nindex pst - Int - unique index of the PST\nf_bus i - Int - unique index of the bus to which the PST is originating from\nt_bus j - Int - unique index of the bus to which the PST is terminating at\npst_r r_pst p.u. Real - resistance of the PST\npst_x x_pst p.u. Real - inductance of the PST\nrate_a overlineS_pst MVA Real - long term rating of the PST\nrate_b overlineS^st_pst MVA Real - short term term rating of the PST\nrate_c overlineS^em_pst MVA Real - emergency rating of the PST\nangle alpha_pst rad Real - current angle set point (used in power flow calculation)\npst_status delta_pst - Int - status indicator of the PST\nangmin underlinealpha_pst rad Real - minimum voltage angle shift\nangmax overlinealpha_pst rad Real - maximum voltage angle shift","category":"section"},{"location":"comp/pst/#Variables","page":"Phase shifting transformers","title":"Variables","text":"Optimisation variables representing PST behaviour\n\nname symb. unit formulation definition\npsta alpha_pst rad ACP, DCP Equivalent phase angle shift induced by PST\nppst p_pstij p.u. ACP, DCP Active power flow through pst\nqpst q_pstij p.u. ACP Reactive power flow through pst","category":"section"},{"location":"comp/pst/#Constraints","page":"Phase shifting transformers","title":"Constraints","text":"","category":"section"},{"location":"comp/pst/#Flow-and-angle-limits","page":"Phase shifting transformers","title":"Flow and angle limits","text":"Active, reactive, and apparent power limits:\n\nbeginalign\n- overlineS_pst leq p_pstij leq overlineS_pst \n- overlineS_pst leq q_pstij leq overlineS_pst \np_pstij^2 + q_pstij^2 leq overlineS_pst^2\nendalign\n\nRange for equivalent phase angle shift:\n\nbeginalign\nunderlinealpha_pst leq alpha_q leq overlinealpha_pst\nendalign","category":"section"},{"location":"comp/pst/#PST-admittance","page":"Phase shifting transformers","title":"PST admittance","text":"beginalign\ng_pst = Refrac1 r_pst + j cdot x_pst \nb_pst = Imfrac1 r_pst + j cdot x_pst \nendalign","category":"section"},{"location":"comp/pst/#Ohm's-law","page":"Phase shifting transformers","title":"Ohm's law","text":"ACP model:\n\nbeginalign\np_pstij = g_pst cdot (v_i)^2 - g_pst cdot v_i cdot v_j cdot cos(theta_i - theta_j - alpha_pst) - b_pst cdot v_i cdot v_j cdot sin(theta_i - theta_j - alpha_pst) \nq_pstij = -b_pst cdot (v_i)^2 + b_pst cdot v_i cdot v_j cdot cos(theta_i - theta_j - alpha_pst) - g_pst cdot v_i cdot v_j cdot sin(theta_i - theta_j - alpha_pst) \nendalign\n\nbeginalign\np_pstji = g_pst cdot (v_j)^2 - g_pst cdot v_i cdot v_j cdot cos(theta_j - theta_i + alpha_pst) - b_pst cdot v_i cdot v_j cdot sin(theta_j - theta_i + alpha_pst) \nq_pstji = -b_pst cdot (v_j)^2 + b_pst cdot v_i cdot v_j cdot cos(theta_j - theta_i + alpha_pst) - g_pst cdot v_i cdot v_j cdot sin(theta_j - theta_i + alpha_pst) \nendalign\n\nACR model:\n\nTo be derived.....\n\nDCP model:\n\nbeginalign\np_pstij = - b_pst cdot (theta_i - theta_j - alpha_pst) \np_pstij + p_pstji = 0\nendalign","category":"section"},{"location":"comp/sssc/#Static-series-synchronous-compenstion-devices,-e.g.-smart-wires","page":"Static synchronous series compensation","title":"Static series synchronous compenstion devices, e.g. smart wires","text":"The series compensation devices inject a voltage in quadrature of the line voltage in order to control active and reactive power flows.","category":"section"},{"location":"comp/sssc/#Parameters","page":"Static synchronous series compensation","title":"Parameters","text":"Set of parameters used to model static series synchronous compenstion devices as defined in the input data\n\nname symb. unit type default definition\nindex sc - Int - unique index of the sereies compensator\nf_bus i - Int - unique index of the bus to which the series compensator is originating from\nt_bus j - Int - unique index of the bus to which the series compensator is terminating at\nsssc_r r_sssc p.u. Real - resistance of the series compensator\nsssc_x x_sssc p.u. Real - inductance of the series compensator\nrate_a overlineS_sssc MVA Real - long term rating of series compensator\nrate_b overlineS^st_sssc MVA Real - short term term rating of series compensator\nrate_c overlineS^em_sssc MVA Real - emergency rating of series compensator\nsssc_status delta_sssc - Int - status indicator of series compensator\nvqmin underlinev_q p.u. Real - minimum quadrature voltage\nvqmax overlinev_q p.u. Real - maximum quadrature voltage","category":"section"},{"location":"comp/sssc/#Variables","page":"Static synchronous series compensation","title":"Variables","text":"Optimisation variables representing SSSC behaviour\n\nname symb. unit formulation definition\nvqsssc v_q p.u. ACP,  ACR Voltage injected in quadrature\nalphaqsssc alpha_q rad DCP Equivalent phase angle shift induced by SSSC\npsssc p_scij p.u. ACP, ACR,  DCP Active power flow through SSSC\nqsssc q_scij p.u. ACP, ACR Reactive power flow through SSSC","category":"section"},{"location":"comp/sssc/#Constraints","page":"Static synchronous series compensation","title":"Constraints","text":"","category":"section"},{"location":"comp/sssc/#Flow,-voltage,-angle-limits","page":"Static synchronous series compensation","title":"Flow, voltage, angle limits","text":"Active, reactive, and apparent power limits:\n\nbeginalign\n- overlineS_sssc leq p_scij leq overlineS_sssc \n- overlineS_sssc leq q_scij leq overlineS_sssc \np_scij^2 + q_scij^2 leq overlineS_sssc^2\nendalign\n\nVoltage range for the induced quadrature voltage:\n\nbeginalign\nunderlinev_q leq v_q leq overlinev_q\nendalign\n\nRange for equivalent phase angle shift:\n\nbeginalign\n-atan(underlinev_q) leq alpha_q leq atan(overlinev_q)\nendalign","category":"section"},{"location":"comp/sssc/#Constraints-2","page":"Static synchronous series compensation","title":"Constraints","text":"","category":"section"},{"location":"comp/sssc/#SSSC-admittance","page":"Static synchronous series compensation","title":"SSSC admittance","text":"beginalign\ng_sssc = Refrac1 r_sssc + j cdot x_sssc \nb_sssc = Imfrac1 r_sssc + j cdot x_sssc \nendalign","category":"section"},{"location":"comp/sssc/#Ohm's-law","page":"Static synchronous series compensation","title":"Ohm's law","text":"ACP model:\n\nbeginalign\nv_i^* = sqrtv_i^2 + 2 cdot v_i cdot v_q + v_q^2 \ntheta_i^* = atan(fracv_i cdot sin(theta_i) + v_qv_i cdot cos(theta_i))  \nendalign\n\nbeginalign\np_scij = g_sssc cdot (v^*_i)^2 - g_sssc cdot v^*_i cdot v_j cdot cos(theta_i^* - theta_j) - b_sssc cdot v^*_i cdot v_j cdot sin(theta_i^* - theta_j) \nq_scij = -b_sssc cdot (v^*_i)^2 + b_sssc cdot v^*_i cdot v_j cdot cos(theta_i^* - theta_j) - g_sssc cdot v^*_i cdot v_j cdot sin(theta_i^* - theta_j) \nendalign\n\nbeginalign\np_jisc = g_sssc cdot (v_j)^2 - g_sssc cdot v^*_i cdot v_j cdot cos(theta_j - theta_i^*) - b_sssc cdot v^*_i cdot v_j cdot sin(theta_j - theta_i^*) \nq_jisc = -b_sssc cdot (v_j)^2 + b_sssc cdot v^*_i cdot v_j cdot cos(theta_j - theta_i^*) - g_sssc cdot v^*_i cdot v_j cdot sin(theta_j - theta_i^*) \nendalign\n\nACR model:\n\nbeginalign\nunderlinev_i^* = underlinev_i + j cdot v_q \np_scij = g_sssc cdot (v_i^*)^2- g_sssc cdot (Reunderlinev_i^* cdot Reunderlinev_j + Imunderlinev_i^* cdot Imunderlinev_j)  - b_sssc cdot (Imunderlinev_i^* cdot Reunderlinev_j + Reunderlinev_i^* cdot Imunderlinev_j) \nq_scij = -b_sssc cdot (v_i^*)^2 + b_sssc cdot (Reunderlinev_i^* cdot Reunderlinev_j + Imunderlinev_i^* cdot Imunderlinev_j)  - g_sssc cdot (Imunderlinev_i^* cdot Reunderlinev_j + Reunderlinev_i^* cdot Imunderlinev_j) \nendalign\n\nbeginalign\np_jisc = g_sssc cdot (v_j)^2- g_sssc cdot (Reunderlinev_i^* cdot Reunderlinev_j + Imunderlinev_i^* cdot Imunderlinev_j)  - b_sssc cdot (Imunderlinev_i^* cdot Reunderlinev_j + Reunderlinev_i^* cdot Imunderlinev_j) \nq_jisc = -b_sssc cdot (v_j)^2 + b_sssc cdot (Reunderlinev_i^* cdot Reunderlinev_j + Imunderlinev_i^* cdot Imunderlinev_j)  - g_sssc cdot (Imunderlinev_i^* cdot Reunderlinev_j + Reunderlinev_i^* cdot Imunderlinev_j) \nendalign\n\nDCP model:\n\nbeginalign\np_scij = - b_sssc cdot (theta_i - theta_j - alpha_q) \np_scij + p_jisc = 0\nendalign","category":"section"},{"location":"parser/#File-IO","page":"File IO","title":"File IO","text":"","category":"section"},{"location":"parser/#Specific-Data-Formats","page":"File IO","title":"Specific Data Formats","text":"The .m matpower files have been extended with the fields as described in the MatACDC manual, available in https://www.esat.kuleuven.be/electa/teaching/matacdc#documentation.","category":"section"},{"location":"parser/#DC-Bus","page":"File IO","title":"DC Bus","text":"busdc_i   - DC bus number\ngrid      - DC grid to which the DC bus is connected (in case multiple DC grids)\nPdc       - Power withdrawn from the DC grid (MW) (only for PF)\nVdc       - DC voltage (p.u.)\nbasekVdc  - Base DC voltage (kV)\nVdcmax    - maximum DC voltage (p.u.)\nVdcmin    - minimum DC voltage (p.u.)\nCdc       - DC bus capacitor size (p.u.), (not used in (optimal) power flow)","category":"section"},{"location":"parser/#DC-Branch","page":"File IO","title":"DC Branch","text":"fbusdc  - from bus number DC\ntbusdc  - to bus number DC\nr       - resistance (p.u.)\nl       - inductance (p.u./s) (not used in (optimal) power flow)\nc       - total line charging capacity (p.u. * s) (not used in power flow)\nrateA   - MVA rating A\nrateB   - MVA rating B (long termrating, not used)\nrateC   - MVA rating C (long termrating, not used)\nstatus  - initial branch status, (1 - in service, 0 - out of service) (not yet implemented)","category":"section"},{"location":"parser/#AC-DC-converter","page":"File IO","title":"AC DC converter","text":"busdc_i     - converter bus number (DC bus numbering)\nbusac_i     - converter bus number (AC bus numbering)  \ntype_dc     - DC bus type (1 = constant power, 2 = DC slack, 3 = DC voltage droop with DC side active power, 4 = DC voltage droop with AC side active power) (only power flow)  \ntype_ac     - AC bus type (1 = PQ, 2 = PV), should be consistent with AC bus  (only power flow)  \nP_g         - active power injected in the AC grid (MW)\nQ_g         - reactive power injected in the AC grid (MVAr)    \nVtar        - target voltage of converter connected AC bus (p.u.)\nislcc       - binary indicating LCC converter (islcc = 1 -> LCC)\nrtf         - transformer resistance (p.u.) (not yet implemented)\nxtf         - transformer reactance (p.u.) (not yet implemented)\ntransformer - binary indicating converter transformer    \nbf          - filter susceptance (p.u.) (not yet implemented)\nfilter      - binary indicating converter filter\nrc          - phase reactor resistance (p.u.) (not yet implemented)   \nxc          - phase reactor reactance (p.u.) (not yet implemented)\nreactor     - binary indicating converter reactor\nbasekVac    - converter AC base voltage (kV)    \nVmmax       - maximum converter voltage magnitude (p.u.)   \nVmmin       - minimumconverter voltagemagnitude (p.u.)   \nImax        - maximum converter current (p.u.)   \nstatus      - converter status (1 = on, 0 = off) (not yet implemented)\nLossA       - constant loss coefficient (MW)\nLossB       - linear loss coefficient (kV)\nLossCrec    - rectifier quadratic loss coefficient (立足)\nLossCinv    - inverter quadratic loss coefficient (立足) (not yet implemented)\ndroop       - DC voltage droop (MW/p.u) (not yet implemented)      \nPdcset      - voltage droop power set-point (MW)  (not yet implemented)\nVdcset      - voltage droop voltage set-point (p.u.) (not yet implemented)\ndVdcset     - voltage droop deadband (p.u.) (optional) (not yet implemented)\nPacmax      - Maximum AC active power (MW)\nPacmin      - Minimum AC active power (MW)\nQacmax      - Maximum AC reactive power (Mvar)\nQacmin      - Minimum AC reactive power (Mvar)","category":"section"},{"location":"comp/dcbranch/#DC-Branches","page":"DC branches","title":"DC Branches","text":"DC Branches represent overhead lines and cables in DC connections and DC grids.","category":"section"},{"location":"comp/dcbranch/#Parameters","page":"DC branches","title":"Parameters","text":"Set of parameters used to model DC branches as defined in the input data\n\nname symb. unit type default definition\nindex d - Int - unique index of the DC branch\nf_bus i - Int - unique index of the bus to which the DC branch is originating from\nt_bus j - Int - unique index of the bus to which the DC branch is terminating at\nr r_dc p.u. Real - resistance of the DC branch\nl l_dc p.u. Real - inductance of the DC branch (not used)\nc c_dc p.u. Real - capacitance of the DC branch (not used)\nrateA overlineP_dc MW Real - long term rating of the DC branch\nrateB overlineP^st_dc MW Real - short term term rating of the DC branch\nrateC overlineP^em_dc MW Real - emergency rating of the DC branch\nstatus delta_dc - Int - status indicator of the DC branch\np n_p - Int - number of DC poles, specified at test case level\ncost C_dc - Real - investment cost for DC branch used in TNEP problems","category":"section"},{"location":"comp/dcbranch/#Variables","page":"DC branches","title":"Variables","text":"Optimisation variables representing DC branch behaviour\n\nname symb. unit formulation definition\np_dcgrid P_dij p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Active power flow through DC branch d, connecting DC nodes i and j\nigrid_dc I_dij p.u. IVR Current flow through DC branch d, connecting DC nodes i and j\nccm_dcgrid J_dij p.u. SOC, QC Square of current flow through DC branch d, connecting DC nodes i and j\nwdcr W_dij p.u. SOC, QC Lifted variable representing bilinear voltage product (V_i cdot V_j) of branch d, connecting DC nodes i and j","category":"section"},{"location":"comp/dcbranch/#Constraints","page":"DC branches","title":"Constraints","text":"","category":"section"},{"location":"comp/dcbranch/#Flow,-current-and-voltage-product-limits","page":"DC branches","title":"Flow, current and voltage product limits","text":"beginalign\n- overlineP_dc leq P_dij leq overlineP_dc \n- overlineI_dc leq I_dij leq overlineI_dc \n0 leq J_dij leq overlineI_dc^2  \n0 leq W_dij leq max(V_i^2 V_j^2)\nendalign","category":"section"},{"location":"comp/dcbranch/#DC-branch-admittance","page":"DC branches","title":"DC branch admittance","text":"g_dc = frac1r_dc","category":"section"},{"location":"comp/dcbranch/#Ohm's-law","page":"DC branches","title":"Ohm's law","text":"ACP, ACR model:\n\nbeginalign\nP_dij = n_p cdot g_dc cdot V_i cdot (V_i - V_j) \nP_dji = n_p cdot g_dc cdot V_j cdot (V_j - V_i) \nendalign\n\nSOC, QC bus injection model (BIM):\n\nbeginalign\nP_dij = n_p cdot g_dc cdot (W_i - W_dij) \nP_dji = n_p cdot g_dc cdot (W_j - W_dij)\nendalign\n\nSOC, QC branch flow model (BFM):\n\nbeginalign\nW_j = W_i - frac2 cdot r_dc cdot P_dij n_p + r_dc^2 cdot J_dij  \nP_dij + P_dji = r_dc cdot n_p cdot J_dij \nP_dij^2 leq  n_p^2 cdot W_i cdot   J_dij \nendalign\n\nIVR model:\n\nbeginalign\nV_j = V_i - fracr_dc cdot I_dijn_p \nV_i = V_j - fracr_dc cdot I_djin_p \nP_dij = I_dij cdot V_i  \nP_dji = I_dji cdot V_j \nendalign\n\nDCP and NF model:\n\nIn this model there are no losses, as such only the active power limits are binding.","category":"section"},{"location":"quickguide/#Quick-Start-Guide","page":"Getting Started","title":"Quick Start Guide","text":"Once PowerModelsACDC is installed, Ipopt is installed, and an ACDC network data file (e.g. \"case5_acdc.m\" in the folder \"./test/data\") has been acquired, an ACDC Optimal Power Flow can be executed with:\n\nusing PowerModelsACDC\nusing Ipopt\n\nresult = run_acdcopf(\"case5_acdc.m\", ACPPowerModel, IpoptSolver())\nresult[\"solution\"][\"busdc\"][\"1\"]\nresult[\"solution\"][\"convdc\"][\"1\"]\n\nYou can also find a test script in the folder \"./test/scripts\".","category":"section"},{"location":"quickguide/#Modifying-settings","page":"Getting Started","title":"Modifying settings","text":"The flow AC and DC branch results are not written to the result by default. To inspect the flow results, pass a settings Dict\n\nresult = run_acdcopf(\"case5_acdc.m\", ACPPowerModel, IpoptSolver(), setting = Dict(\"output\" => Dict(\"branch_flows\" => true)))\nresult[\"solution\"][\"branchdc\"][\"1\"]\nresult[\"solution\"][\"branch\"][\"2\"]","category":"section"},{"location":"quickguide/#Remark","page":"Getting Started","title":"Remark","text":"Note that run_ac_opf still works and runs a classic AC OPF on only the AC part of the described grid.\n\nresult = run_ac_opf(\"case5_acdc.m\", IpoptSolver())","category":"section"},{"location":"comp/dcgen/#DC-Generators","page":"DC Generators","title":"DC Generators","text":"DC generators are directly connected to a DC bus, in order to also model ideal voltage sources on the DC side, which can be handy for initialisation of dynamic simulation models. ","category":"section"},{"location":"comp/dcgen/#Parameters","page":"DC Generators","title":"Parameters","text":"Set of parameters used to model DC branches as defined in the input data\n\nname symb. unit type default definition\nindex dg - Int - unique index of the generator\ngen_bus e - Int - unique index of the bus to which the generator is connected to\npgdcset P^dcset_g p.u. Real - reference active power generation set point - used as input in power flow calculations\npmin underlineP^dc_g p.u. Real - minimum stable operating power of the generator\npmax overlineP^dc_g p.u. Real - maximum power rating of the generator\ngen_status delta_dc - Int - status indicator of the generator\nmbase P_base p.u. Real - MW base of the generator\nvgdc V_g^dcset p.u. Real - target voltage of generator - used in power flow calculations for constant and droop control modes\nidle cost c_g1 Currency / p.u. Real - Generator cost when idle in currency of your choice\nlinear cost c_g2 Currency / p.u. Real - Generator cost in currency / MW(h)\nquadratic cost c_g3 Currency / p.u. Real - Generator cost in currency / (MW(h))^2\nidle cost c_g1 Currency / p.u. Real - Generator cost when idle\ncontrol_type kappa^dc_g - Int 2 Used in power flow calculations, 1 = const. power, 2 = const. voltage (slack), 3 = droop\ndroop_const k^dc_g - Real - generator active power droop in MW/V, implemented in pu (MW) / pu (kV)\n\nWarning: THE UNIT COMMITMENT MODEL IS NOT YET IMPLEMENTED FOR DC GENERATORS!\n\nname symb. unit type default definition\nmut mut_g - Int - minimum up time for generator used in unit commitment problems, expressed as a multiple of the UC time step\nmdt mdt_g - Int - minimum down time for generator used in unit commitment problems, expressed as a multiple of the UC time step\nramp_rate Lambda_g p.u. / time step Real - ramp rate of the generator used in UC problem\nramprateper_s Lambda_g^s p.u. / s Real - ramp rate of the generator used in frequency constrained UC problem\ninertia_constant H_g s Real - inertia constant of the generator used in frequency constrained UC problem\nfcr_contribution delta_g^fcr - Int - Indicator if generator g participates in providing frequency containtment reserves\narea a_g - Int - Area in which the generator is located, used for tie line contingencies in frequency constrained UC problem\nzone z_g - Int - Zone in which the generator is located, used for loss of infeed contingencies in frequency constrained UC problem\nmodel m_g - Int - Generator cost model, 1 = piecewise linear, 2 = polynomial (matpower style)\nncost n_g - Int - Number of polynomial coefficients for generator costs\nstartup c_g^suc Currency Real - Start-up cost in the currency of your choice\nshutdown c_c^sdc Currency Real - Shut-down cost in the currency of your choice\nres res_g - Int - True / false indicator for RES generators","category":"section"},{"location":"comp/dcgen/#Variables","page":"DC Generators","title":"Variables","text":"Optimisation variables representing DC generator behaviour\n\nname symb. unit formulation definition\npgdc P^dc_g p.u. ACP, ACR, LPAC, SOC, DCP, NF Active power set point of generator g\n\nNot yet defined for IVR!","category":"section"},{"location":"comp/dcgen/#Constraints","page":"DC Generators","title":"Constraints","text":"","category":"section"},{"location":"comp/dcgen/#Active-power-limits","page":"DC Generators","title":"Active power limits","text":"beginalign\n underlineP^dc_g leq P^dc_g leq overlineP^dc_g \nendalign","category":"section"},{"location":"comp/dcgen/#Generator-control-mode:-used-in-power-flow","page":"DC Generators","title":"Generator control mode: used in power flow","text":"beginalign\n\nifkappa^dc_g = 1 \n\nP^dc_g = P^dcset_g \n\nifkappa^dc_g = 2 \n\nvdc_e = V_g^dcset \n\nifkappa^dc_g = 3 \n\nP^dc_g = P^dcset_g - 1  k^dc_g * (vdc_e - V_g^dcset)\n\nendalign","category":"section"},{"location":"constraints/#Constraints","page":"Constraints","title":"Constraints","text":"All the OPF constraints for the AC grids have been re-used from PowerModels.jl, and are therefore not repeated here.","category":"section"},{"location":"constraints/#DC-Bus-Constraints","page":"Constraints","title":"DC Bus Constraints","text":"","category":"section"},{"location":"constraints/#Setpoint-Constraints","page":"Constraints","title":"Setpoint Constraints","text":"","category":"section"},{"location":"constraints/#KCL-Constraints-existing-dc-buses","page":"Constraints","title":"KCL Constraints existing dc buses","text":"","category":"section"},{"location":"constraints/#AC-Bus-Constraints","page":"Constraints","title":"AC Bus Constraints","text":"","category":"section"},{"location":"constraints/#KCL-Constraints-existing-ac-buses","page":"Constraints","title":"KCL Constraints existing ac buses","text":"","category":"section"},{"location":"constraints/#DC-Branch-Constraints","page":"Constraints","title":"DC Branch Constraints","text":"","category":"section"},{"location":"constraints/#Ohm's-Law-Constraints","page":"Constraints","title":"Ohm's Law Constraints","text":"","category":"section"},{"location":"constraints/#ACDC-Converter-Constraints","page":"Constraints","title":"ACDC Converter Constraints","text":"","category":"section"},{"location":"constraints/#Ohm's-Law-Constraints-2","page":"Constraints","title":"Ohm's Law Constraints","text":"","category":"section"},{"location":"constraints/#Current","page":"Constraints","title":"Current","text":"","category":"section"},{"location":"constraints/#Setpoint-Constraints-(PF-only)","page":"Constraints","title":"Setpoint Constraints (PF only)","text":"","category":"section"},{"location":"constraints/#Converter-auxiliary-constraints","page":"Constraints","title":"Converter auxiliary constraints","text":"","category":"section"},{"location":"constraints/#Converter-firing-angle-for-LCC","page":"Constraints","title":"Converter firing angle for LCC","text":"","category":"section"},{"location":"constraints/#PowerModelsACDC.constraint_dc_voltage_magnitude_setpoint","page":"Constraints","title":"PowerModelsACDC.constraint_dc_voltage_magnitude_setpoint","text":"\n\n\n\nvdc[i] == vdcm\n\n\n\n\n\nvdc[i] == vdcm\n\n\n\n\n\nvdc[i] == vdcm\n\n\n\n\n\nwdc[i] == vdcm^2\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_power_balance_dc","page":"Constraints","title":"PowerModelsACDC.constraint_power_balance_dc","text":"sum(p_dcgrid[a] for a in bus_arcs_dcgrid) + sum(pconv_dc[c] for c in bus_convs_dc) == pd\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_power_balance_ac","page":"Constraints","title":"PowerModelsACDC.constraint_power_balance_ac","text":"sum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) + sum(pconvac[c] for c in bus_convs) - pd - gs*v^2\nsum(q[a] for a in bus_arcs) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) + sum(qconvac[c] for c in bus_convs) - qd + bs*v^2\n\n\n\n\n\nsum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) + sum(pconvac[c] for c in bus_convs) - pd - gs*(vr^2 + vi^2)\nsum(q[a] for a in bus_arcs) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) + sum(qconvac[c] for c in bus_convs) - qd + bs*(vr^2 + vi^2)\n\n\n\n\n\nsum(p[a] for a in bus_arcs) + sum(p_dc[a_dc] for a_dc in bus_arcs_dc) == sum(pg[g] for g in bus_gens) + sum(pconvac[c] for c in bus_convs) - pd - gs*1^2\nsum(q[a] for a in bus_arcs) + sum(q_dc[a_dc] for a_dc in bus_arcs_dc) == sum(qg[g] for g in bus_gens) + sum(qconvac[c] for c in bus_convs) - qd + bs*1^2\n\n\n\n\n\nShunt constraint using linearized voltage magnitude difference phi\n\nsum(p) + sum(pconv_grid_ac)  == sum(pg) - sum(pd) - sum(gs*(1.0 + 2*phi)\n\n\n\n\n\nsum(p[a] for a in bus_arcs) + sum(pconv_grid_ac[c] for c in bus_convs_ac) == sum(pg[g] for g in bus_gens)  - pd - gs*w\nsum(q[a] for a in bus_arcs) + sum(qconv_grid_ac[c] for c in bus_convs_ac) == sum(qg[g] for g in bus_gens)  - qd + bs*w\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_ohms_dc_branch","page":"Constraints","title":"PowerModelsACDC.constraint_ohms_dc_branch","text":"Creates Ohms constraints for DC branches\n\np[f_idx] == p * g[l] * vmdc[f_bus] * (vmdc[f_bus] - vmdc[t_bus])\n\n\n\n\n\nCreates Ohms constraints for DC branches\n\np[f_idx] + p[t_idx] == 0)\n\n\n\n\n\nCreates Ohms constraints for DC branches\n\np[f_idx] + p[t_idx] == p * g[l] * (wdc[f_bus] - wdcr[f_bus,t_bus])\n\nOverloads are provided for QP and conic BF models. The QP variant uses a simple quadratic relaxation for the cross-product term while the conic variant uses a rotated second-order cone representation to model pdcfr^2 <= p^2 * wdcfr * ccmdcgrid.\n\n\n\n\n\nDC branch power flow using linearized voltage magnitude difference phi\n\np_dc_fr == p * g *  (phi_fr - phi_to)\np_dc_to == p * g *  (phi_to - phi_fr)\n\n\n\n\n\nCreates Ohms constraints for DC branches\n\np[f_idx] + p[t_idx] == p * g[l] * (wdc[f_bus] - wdcr[f_bus,t_bus])\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_converter_losses","page":"Constraints","title":"PowerModelsACDC.constraint_converter_losses","text":"Creates lossy converter model between AC and DC grid\n\npconv_ac[i] + pconv_dc[i] == a + bI + cI^2\n\n\n\n\n\nCreates lossy converter model between AC and DC grid using a lifted converter current magnitude variable\n\npconv_ac[i] + pconv_dc[i] == a + b * iconv[i] + c * iconv_sq[i]\n\nLinks the converter current magnitude variable with the squared converter current magnitude variable\n\niconv_sq[i] == iconv[i]^2 \n\n\n\n\n\nCreates lossy converter model between AC and DC grid, assuming U_i is approximatley 1 numerically\n\npconv_ac[i] + pconv_dc[i] == a + b*pconv_ac\n\n\n\n\n\nCreates lossy converter model between AC and DC side\n\npconv_ac[i] + pconv_dc[i] == a + b*I + c*Isq\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_converter_current","page":"Constraints","title":"PowerModelsACDC.constraint_converter_current","text":"Links converter power & current\n\npconv_ac[i]^2 + pconv_dc[i]^2 == vmc[i]^2 * iconv_ac[i]^2\n\n\n\n\n\nLinks converter power & current\n\npconv_ac[i]^2 + pconv_dc[i]^2 == (vrc[i]^2 + vic[i]^2) * iconv_sq[i]\n\n\n\n\n\nConverter current constraint (not applicable)\n\n\n\n\n\n\n\nLinks converter power & current\n\npconv_ac[i]^2 + pconv_dc[i]^2 <= wc[i] * iconv_ac_sq[i]\npconv_ac[i]^2 + pconv_dc[i]^2 <= (Umax)^2 * (iconv_ac[i])^2\n\n\n\n\n\nLinks converter power & current\n\npconv_ac[i]^2 + pconv_dc[i]^2 <= wc[i] * iconv_ac_sq[i]\npconv_ac[i]^2 + pconv_dc[i]^2 <= (Umax)^2 * (iconv_ac[i])^2\n\n\n\n\n\nLinks converter power & current\n\npconv_ac[i]^2 + pconv_dc[i]^2 <= wc[i] * iconv_ac_sq[i]\npconv_ac[i]^2 + pconv_dc[i]^2 <= (Umax)^2 * (iconv_ac[i])^2\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_active_conv_setpoint","page":"Constraints","title":"PowerModelsACDC.constraint_active_conv_setpoint","text":"pconv[i] == pconv\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_conv_transformer","page":"Constraints","title":"PowerModelsACDC.constraint_conv_transformer","text":"Converter transformer constraints\n\np_tf_fr ==  g/(tm^2)*vm_fr^2 + -g/(tm)*vm_fr*vm_to * cos(va_fr-va_to) + -b/(tm)*vm_fr*vm_to*sin(va_fr-va_to)\nq_tf_fr == -b/(tm^2)*vm_fr^2 +  b/(tm)*vm_fr*vm_to * cos(va_fr-va_to) + -g/(tm)*vm_fr*vm_to*sin(va_fr-va_to)\np_tf_to ==  g*vm_to^2 + -g/(tm)*vm_to*vm_fr  *    cos(va_to - va_fr)     + -b/(tm)*vm_to*vm_fr    *sin(va_to - va_fr)\nq_tf_to == -b*vm_to^2 +  b/(tm)*vm_to*vm_fr  *    cos(va_to - va_fr)     + -g/(tm)*vm_to*vm_fr    *sin(va_to - va_fr)\n\n\n\n\n\nConverter transformer constraints\n\np_tf_fr ==  g/(tm^2)*(vr_fr^2+vi_fr^2) + -g/(tm)*(vr_fr*vr_to + vi_fr*vi_to) + -b/(tm)*(vi_fr*vr_to-vr_fr*vi*to)\nq_tf_fr == -b/(tm^2)*(vr_fr^2+vi_fr^2) +  b/(tm)*(vr_fr*vr_to + vi_fr*vi_to) + -g/(tm)*(vi_fr*vr_to-vr_fr*vi*to)\np_tf_to ==  g*(vr_to^2+vi_to^2)        + -g/(tm)*(vr_fr*vr_to + vi_fr*vi_to) + -b/(tm)*(-(vi_fr*vr_to-vr_fr*vi*to))\nq_tf_to == -b*(vr_to^2+vi_to^2)        +  b/(tm)*(vr_fr*vr_to + vi_fr*vi_to) + -g/(tm)*(-(vi_fr*vr_to-vr_fr*vi*to))\n\n\n\n\n\nConverter transformer constraints\n\np_tf_fr == -btf*(v^2)/tm*(va-vaf)\np_tf_to == -btf*(v^2)/tm*(vaf-va)\n\n\n\n\n\nConverter transformer constraints\n\np_tf_fr + ptf_to ==  rtf*itf\nq_tf_fr + qtf_to ==  xtf*itf\np_tf_fr^2 + qtf_fr^2 <= w/tm^2 * itf\nwf == w/tm^2 -2*(rtf*ptf_fr + xtf*qtf_fr) + (rtf^2 + xtf^2)*itf\n\n\n\n\n\nConverter transformer constraints\n\np_tf_fr ==  g/(tm^2)*w_fr + -g/(tm)*wr + -b/(tm)*wi)\nq_tf_fr == -b/(tm^2)*w_fr +  b/(tm)*wr + -g/(tm)*wi)\np_tf_to ==  g*w_to + -g/(tm)*wr     + -b/(tm)*(-wi))\nq_tf_to == -b*w_to +  b/(tm)*wr     + -g/(tm)*(-wi))\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_conv_reactor","page":"Constraints","title":"PowerModelsACDC.constraint_conv_reactor","text":"Converter reactor constraints\n\n-pconv_ac == gc*vmc^2 + -gc*vmc*vmf*cos(vac-vaf) + -bc*vmc*vmf*sin(vac-vaf)\n-qconv_ac ==-bc*vmc^2 +  bc*vmc*vmf*cos(vac-vaf) + -gc*vmc*vmf*sin(vac-vaf)\np_pr_fr ==  gc *vmf^2 + -gc *vmf*vmc*cos(vaf - vac) + -bc *vmf*vmc*sin(vaf - vac)\nq_pr_fr == -bc *vmf^2 +  bc *vmf*vmc*cos(vaf - vac) + -gc *vmf*vmc*sin(vaf - vac)\n\n\n\n\n\nConverter reactor constraints\n\n-pconv_ac == gc*(vrc^2 + vic^2) + -gc*(vrc * vrf + vic * vif) + -bc*(vic * vrf - vrc * vif)\n-qconv_ac ==-bc*(vrc^2 + vic^2) +  bc*(vrc * vrf + vic * vif) + -gc*(vic * vrf - vrc * vif)\np_pr_fr ==  gc *(vrf^2 + vif^2) + -gc *(vrc * vrf + vic * vif) + -bc *(-(vic * vrf - vrc * vif))\nq_pr_fr == -bc *(vrf^2 + vif^2) +  bc *(vrc * vrf + vic * vif) + -gc *(-(vic * vrf - vrc * vif))\n\n\n\n\n\nConverter reactor constraints\n\np_pr_fr == -bc*(v^2)*(vaf-vac)\npconv_ac == -bc*(v^2)*(vac-vaf)\n\n\n\n\n\nConverter reactor constraints\n\np_pr_fr + ppr_to == rc*ipr\nq_pr_fr + qpr_to == xc*ipr\np_pr_fr^2 + qpr_fr^2 <= wf * ipr\nwc == wf -2*(rc*ppr_fr + xc*qpr_fr) + (rc^2 + xc^2)*ipr\n\n\n\n\n\nConverter reactor constraints\n\np_pr_fr ==  g/(tm^2)*w_fr + -g/(tm)*wr + -b/(tm)*wi)\nq_pr_fr == -b/(tm^2)*w_fr +  b/(tm)*wr + -g/(tm)*wi)\np_pr_to ==  g*w_to + -g/(tm)*wr     + -b/(tm)*(-wi))\nq_pr_to == -b*w_to +  b/(tm)*wr     + -g/(tm)*(-wi))\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_conv_filter","page":"Constraints","title":"PowerModelsACDC.constraint_conv_filter","text":"Converter filter constraints\n\nppr_fr + ptf_to == 0\nqpr_fr + qtf_to +  (-bv) * filter *vmf^2 == 0\n\n\n\n\n\nConverter filter constraints\n\nppr_fr + ptf_to == 0\nqpr_fr + qtf_to +  (-bv) * filter *(vrf^2 + vif^2) == 0\n\n\n\n\n\nConverter filter constraints (no active power losses)\n\np_pr_fr + p_tf_to == 0\n\n\n\n\n\nConverter filter constraints\n\np_pr_fr + p_tf_to == 0\nq_pr_fr + q_tf_to + -bv*filter*wf == 0\n\n\n\n\n\n","category":"function"},{"location":"constraints/#PowerModelsACDC.constraint_conv_firing_angle","page":"Constraints","title":"PowerModelsACDC.constraint_conv_firing_angle","text":"LCC firing angle constraints\n\npconv_ac == cos(phi) * Srated\nqconv_ac == sin(phi) * Srated\n\n\n\n\n\nLCC firing angle constraints\n\npconv_ac == cos(phi) * Srated\nqconv_ac == sin(phi) * Srated\n\n\n\n\n\nConverter firing angle constraint (not applicable)\n\n\n\n\n\n\n\nLCC firing angle constraints\n\nqconv_ac >= Q1 + (pconv_ac-P1) * (Q2-Q1)/(P2-P1)\n\nP1 = cos(0) * Srated\nQ1 = sin(0) * Srated\nP2 = cos(pi) * Srated\nQ2 = sin(pi) * Srated\n\n\n\n\n\n","category":"function"},{"location":"problems_and_formulations/#Type-Hierarchy","page":"Problem and Network Formulations","title":"Type Hierarchy","text":"The original type hierarchy of PowerModels is used in general. \n\nFor details on GenericPowerModel, see PM.jl [documentation](https://lanl-ansi.github.io/PM.jl/stable/).","category":"section"},{"location":"problems_and_formulations/#Formulations-overview","page":"Problem and Network Formulations","title":"Formulations overview","text":"Note that not all problem types are (yet) implemented for all power flow formulations. The below table provides a mapping of all problem types implemented and for which formulations they have been implemented so far.\n\nExtending PowerModels,  formulations for balanced  OPF in DC grids have been implemented and mapped to the following AC grid formulations:\n\nACPPowerModel\nACRPowerModel\nDCPPowerModel\nLPACPowerModel\nSOCWRPowerModel\nSDPWRMPowerModel\nQCWRPowerModel\nQCWRTriPowerModel\n\nNote that from the perspective of OPF convex relaxation for DC grids, applying the same assumptions as the AC equivalent, the same formulation (and variable space) is obtained for - SOCWRPowerModel,  SDPWRMPowerModel,  QCWRPowerModel and  QCWRTriPowerModel. These are referred to as formulations in the AC WR(M) variable space.","category":"section"},{"location":"problems_and_formulations/#Formulation-details","page":"Problem and Network Formulations","title":"Formulation details","text":"The formulations are categorized as Bus Injection Model (BIM) or Branch Flow Model (BFM).\n\nApplied to DC grids, the BIM uses series conductance notation, and adds separate equations for the to and from line flow.\nConversely, BFM uses series resistance parameters, and adds only a single equation per line, representing P_lij + P_lji = P_l^loss.\n\nNote that in a DC grid, under the static power flow assumption, power is purely active, impedance reduces to resistance, and voltages and currents are defined by magnitude and direction.\n\nParameters used:\n\ng^series=frac1r^series\n, dc line series impedance\np in 12\nfor single (1) or bipole (2) DC lines\nU_i^max\nmaximum AC node voltage\na\nconstant power converter loss\nb\nconverter loss proportional to current magnitude\nc\nconverter loss proportional to square of current magnitude\n\nNote that generally, a geq 0 b geq 0 c geq 0 as physical losses are positive.","category":"section"},{"location":"problems_and_formulations/#ACPPowerModel-(BIM)","page":"Problem and Network Formulations","title":"ACPPowerModel (BIM)","text":"","category":"section"},{"location":"problems_and_formulations/#DC-lines","page":"Problem and Network Formulations","title":"DC lines","text":"Active power flow from side: P^dc_ij = p cdot g^series_ij cdot U^dc_i cdot (U^dc_i - U^dc_j).\nActive power flow to side: P^dc_ji = p cdot g^series_ij cdot U^dc_j cdot (U^dc_j - U^dc_i).","category":"section"},{"location":"problems_and_formulations/#ACDC-converters","page":"Problem and Network Formulations","title":"ACDC converters","text":"Power balance: P^conv ac_ij + P^conv dc_ji = a + b cdot I^conv ac + c cdot (I^conv ac)^2.\nConverter current variable model: (P^convac_ij)^2 + (Q^convac_ij)^2 = U_i^2 cdot  (I^conv ac)^2.\nLCC converters, active /reactive power:\n\nP^conv ac = cosvarphi_c cdot S^convacrated\n\nQ^conv ac = sinvarphi_c cdot S^convacrated","category":"section"},{"location":"problems_and_formulations/#ACRPowerModel-(BIM)","page":"Problem and Network Formulations","title":"ACRPowerModel (BIM)","text":"","category":"section"},{"location":"problems_and_formulations/#DC-lines-2","page":"Problem and Network Formulations","title":"DC lines","text":"Same model as ACP formulation","category":"section"},{"location":"problems_and_formulations/#ACDC-converters-2","page":"Problem and Network Formulations","title":"ACDC converters","text":"Two separate current variables, I^conv ac and i^conv ac sq are defined, the nonconvex relation i^conv ac sq = (I^conv ac)^2 is convexified.\n\nLinking both current variables: (I^conv ac)^2 = i^conv ac sq\nPower balance: P^conv ac_ij + P^conv dc_ji = a + bcdot I^conv ac + ccdot i^conv ac sq.\nConverter current variable model: (P^convac_ij)^2 + (Q^convac_ij)^2 = (U_ri^2+U_ii^2) cdot  i^conv ac sq.\nLCC converters, active /reactive power: Same model as ACP formulation","category":"section"},{"location":"problems_and_formulations/#DCPPowerModel-(NF)","page":"Problem and Network Formulations","title":"DCPPowerModel (NF)","text":"Due to the absence of voltage angles in DC grids, the DC power flow model reduces to network flow (NF) under the 'DC' assumptions","category":"section"},{"location":"problems_and_formulations/#DC-lines-3","page":"Problem and Network Formulations","title":"DC lines","text":"Network flow model: P^dc_ij + P^dc_ji = 0","category":"section"},{"location":"problems_and_formulations/#ACDC-converters-3","page":"Problem and Network Formulations","title":"ACDC converters","text":"Under the same assumptions as MATPOWER (U_i approx 1), P^conv ac_ij approx I^conv ac allowing the converter model to be formulated as:\n\nNetwork flow model: P^conv ac_ij + P^conv dc_ji = a + b P^conv ac_ij\nLCC converters, n.a.","category":"section"},{"location":"problems_and_formulations/#AC-WR(M)-variable-space.-(BFM)","page":"Problem and Network Formulations","title":"AC WR(M) variable space.  (BFM)","text":"For the SDP formulation, the norm syntax is used to represent the SOC expressions below.","category":"section"},{"location":"problems_and_formulations/#DC-lines-4","page":"Problem and Network Formulations","title":"DC lines","text":"The variable u^dc_ii represents (U^dc_i)^2 and i^dc_ij represents (I^dc_ij)^2.\n\nActive power flow from side: P^dc_ij + P^dc_ji = p cdot r^series cdot i^dc_ij.\nConvex relaxation of power definition: (P^dc_ij)^2 leq u^dc_ii cdot i^dc_ij.\nLifted KVL: u^dc_jj = u^dc_ii -2 p cdot r^series P^dc_ij + (r^series)^2 i^dc_ij","category":"section"},{"location":"problems_and_formulations/#ACDC-converters-4","page":"Problem and Network Formulations","title":"ACDC converters","text":"Two separate current variables, I^conv ac and i^conv ac sq are defined, the nonconvex relation i^conv ac sq = (I^conv ac)^2 is convexified, using U_i leq U_i^max:\n\nPower balance: P^conv ac_ij + P^conv dc_ji = a + bcdot I^conv ac + ccdot i^conv ac sq.\nSquared current: (P^conv ac_ij)^2 + (Q^conv ac_ij)^2 leq  u_ii cdot  i^conv ac sq\nLinear current: (P^conv ac_ij)^2 + (Q^conv ac_ij)^2 leq  (U_i^max)^2 cdot  (I^conv ac)^2\nLinking both current variables: (I^conv ac)^2 leq i^conv ac sq\nLCC converters:\n\nQ^convac geq Q^1_c + (P^convac - P^1_c)frac(Q^2_c  - Q^1_c)(P^2_c  - P^1_c)\n\nP^1_c =  cos  varphi_c^textmin cdot S^convacrated\n\nP^2_c =   cos varphi_c^textmax cdot S^convacrated\n\nQ^1_c =   sin  varphi_c^textmin cdot S^convacrated\n\nQ^2_c =   sin varphi_c^textmax cdot S^convacrated","category":"section"},{"location":"problems_and_formulations/#AC-WR(M)-variable-space.-(BIM)","page":"Problem and Network Formulations","title":"AC WR(M) variable space.  (BIM)","text":"For the SDP formulation, the norm syntax is used to represent the SOCs.","category":"section"},{"location":"problems_and_formulations/#DC-lines-5","page":"Problem and Network Formulations","title":"DC lines","text":"The variable u^dc_ii represents (U^dc_i)^2 and u^dc_ij represents U^dc_icdot U^dc_j.\n\nActive power flow from side: P^dc_ij = p cdot g^series cdot (u^dc_ii - u^dc_ij).\nActive power flow to side: P^dc_ji = p cdot g^series cdot (u^dc_jj - u^dc_ij).\nConvex relaxation of voltage products: (u^dc_ij)^2 leq u^dc_ii cdot u^dc_jj.","category":"section"},{"location":"problems_and_formulations/#ACDC-converters-5","page":"Problem and Network Formulations","title":"ACDC converters","text":"An ACDC converter model in BIM is not derived.","category":"section"},{"location":"specifications/#Problem-Specifications","page":"Problem Specifications","title":"Problem Specifications","text":"","category":"section"},{"location":"specifications/#ACDCPF","page":"Problem Specifications","title":"ACDCPF","text":"PF with support for AC and DC grids at the same time, including AC/DC converters.","category":"section"},{"location":"specifications/#Generic-AC-DC-Power-Flow","page":"Problem Specifications","title":"Generic AC DC Power Flow","text":"The general purpose ac dc power flow solver in PowerModelsACDC is,\n\nThis function builds a JuMP model for a wide variety of the power flow formulations supported by PowerModelsACDC. ","category":"section"},{"location":"specifications/#Sequential-AC-DC-Power-Flow-(Native)","page":"Problem Specifications","title":"Sequential AC DC Power Flow (Native)","text":"The sequential ac dc power flow solver in PowerModelsACDC uses the package NLSolve for solving the AC  DC power flow problem in ACPPowerModel formulation sequentially.\n\ntip: Tip\nIf run_sacdcpf fails to converge try run_acdcpf instead.","category":"section"},{"location":"specifications/#ACDCOPF","page":"Problem Specifications","title":"ACDCOPF","text":"OPF with support for AC and DC grids at the same time, including AC/DC converters.","category":"section"},{"location":"specifications/#Variables","page":"Problem Specifications","title":"Variables","text":"variable_voltage(pm)\nvariable_generation(pm)\nvariable_branch_flow(pm)","category":"section"},{"location":"specifications/#Objective","page":"Problem Specifications","title":"Objective","text":"objective_min_operational_cost(pm)","category":"section"},{"location":"specifications/#Constraints","page":"Problem Specifications","title":"Constraints","text":"\nvariable_active_dcbranch_flow(pm)\nvariable_dcbranch_current(pm)\nvariable_dc_converter(pm)\nvariable_dcgrid_voltage_magnitude(pm)\n\nconstraint_voltage(pm)\nconstraint_voltage_dc(pm)\n\nfor i in _PM.ids(pm, :ref_buses)\n    constraint_theta_ref(pm, i)\nend\n\nfor i in _PM.ids(pm, :bus)\n    constraint_power_balance_ac(pm, i)\nend\n\nfor i in _PM.ids(pm, :branch)\n    # dirty, should be improved in the future TODO\n    if typeof(pm) <: _PM.SOCDFPowerModel\n        constraint_flow_losses(pm, i)\n        constraint_voltage_magnitude_difference(pm, i)\n        constraint_branch_current(pm, i)\n    else\n        constraint_ohms_yt_from(pm, i)\n        constraint_ohms_yt_to(pm, i)\n    end\n\n    constraint_voltage_angle_difference(pm, i)\n\n    constraint_thermal_limit_from(pm, i)\n    constraint_thermal_limit_to(pm, i)\nend\nfor i in _PM.ids(pm, :busdc)\n    constraint_power_balance_dc(pm, i)\nend\nfor i in _PM.ids(pm, :branchdc)\n    constraint_ohms_dc_branch(pm, i)\nend\nfor i in _PM.ids(pm, :convdc)\n    constraint_converter_losses(pm, i)\n    constraint_converter_current(pm, i)\n    constraint_conv_transformer(pm, i)\n    constraint_conv_reactor(pm, i)\n    constraint_conv_filter(pm, i)\n    if pm.ref[:nw][pm.cnw][:convdc][i][\"islcc\"] == 1\n        constraint_conv_firing_angle(pm, i)\n    end\nend","category":"section"},{"location":"specifications/#PowerModelsACDC.solve_acdcpf","page":"Problem Specifications","title":"PowerModelsACDC.solve_acdcpf","text":"solve_acdcpf(file::String, model_type::Type, solver; kwargs...)\n\nParse an input file and solve an AC/DC power flow (ACDCPF) problem using the specified PowerModels formulation and solver.\n\nArguments\n\nfile::String : Path to the input data file (e.g., MATPOWER .m file).\nmodel_type::Type : PowerModels model type (e.g., ACPPowerModel, SOCBFPowerModel).\nsolver : JuMP solver object or solver factory (e.g., Ipopt).\nkwargs... : Optional keyword arguments forwarded to the underlying solver entry point (settings, reference extensions, etc.).\n\nReturns\n\nA solution dictionary (as returned by PowerModels) containing results such as objective value, variable values and solver termination status.\n\nBehavior\n\nThis function parses the provided file into a data dictionary, performs any additional data processing (via process_additional_data!) and delegates to solve_acdcpf(data::Dict, ...). By default, reference extensions for DC grid, PST, SSSC, flexible loads and DC generators are applied.\n\n\n\n\n\nsolve_acdcpf(data::Dict{String,Any}, model_type::Type, solver; kwargs...)\n\nSolve an AC/DC power flow problem from an already-parsed data dictionary.\n\nArguments\n\ndata::Dict{String,Any} : Parsed network data dictionary (PowerModels format).\nmodel_type::Type : PowerModels model type to build the JuMP model.\nsolver : JuMP solver object or factory.\nkwargs... : Forwarded keyword arguments (settings, ref_extensions override, etc.).\n\nReturns\n\nA solution dictionary produced by the PowerModels solve pipeline.\n\nBehavior\n\nBuilds and solves the problem using the power model solve entry point (_PM.solve_model). This wrapper applies the same set of default reference extensions as the file-based entrypoint. Use ref_extensions in kwargs to override or add additional references.\n\n\n\n\n\n","category":"function"},{"location":"specifications/#PowerModelsACDC.solve_sacdcpf","page":"Problem Specifications","title":"PowerModelsACDC.solve_sacdcpf","text":"This function solves sequential ac-dc power flow\n\n\n\n\n\n","category":"function"},{"location":"result-data/#PowerModels-Result-Data-Format","page":"Results","title":"PowerModels Result Data Format","text":"","category":"section"},{"location":"result-data/#The-Result-Data-Dictionary","page":"Results","title":"The Result Data Dictionary","text":"PowerModels utilizes a dictionary to organize the results of a run command. The dictionary uses strings as key values so it can be serialized to JSON for algorithmic data exchange. The data dictionary organization is  consistent with  PowerModels.jl.","category":"section"},{"location":"comp/gen/#Generators","page":"Generators","title":"Generators","text":"Generators present all type of generation, e.g., both classical and renewable generation","category":"section"},{"location":"comp/gen/#Parameters","page":"Generators","title":"Parameters","text":"Set of parameters used to model DC branches as defined in the input data\n\nname symb. unit type default definition\nindex g - Int - unique index of the generator\ngen_bus i - Int - unique index of the bus to which the generator is connected to\npg P_g p.u. Real - active power generation - used as input in power flow calculations\nqg Q_g p.u. Real - reactive power generation - used as input in power flow calculations, positive sign is an injection\npmin underlineP_g p.u. Real - minimum stable operating power of the generator\npmax overlineP_g p.u. Real - maximum power rating of the generator\nqmin underlineQ_g p.u. Real - minimum reactive power of the generator\nqmax overlineQ_g p.u. Real - maximum reactive power of the generator\ngen_status delta_dc - Int - status indicator of the generator\nmbase P_base p.u. Real - MVA base of the generator\nvg V_g^set p.u. Real - target voltage of generator - used in power flow calculations for PV nodes\nmut mut_g - Int - minimum up time for generator used in unit commitment problems, expressed as a multiple of the UC time step\nmdt mdt_g - Int - minimum down time for generator used in unit commitment problems, expressed as a multiple of the UC time step\nramp_rate Lambda_g p.u. / time step Real - ramp rate of the generator used in UC problem\nramprateper_s Lambda_g^s p.u. / s Real - ramp rate of the generator used in frequency constrained UC problem\ninertia_constant H_g s Real - inertia constant of the generator used in frequency constrained UC problem\nfcr_contribution delta_g^fcr - Int - Indicator if generator g participates in providing frequency containtment reserves\narea a_g - Int - Area in which the generator is located, used for tie line contingencies in frequency constrained UC problem\nzone z_g - Int - Zone in which the generator is located, used for loss of infeed contingencies in frequency constrained UC problem\nmodel m_g - Int - Generator cost model, 1 = piecewise linear, 2 = polynomial (matpower style)\nncost n_g - Int - Number of polynomial coefficients for generator costs\nstartup c_g^suc Currency Real - Start-up cost in the currency of your choice\nshutdown c_c^sdc Currency Real - Shut-down cost in the currency of your choice\ncost c_g Currency / p.u. Real - Vector with coeffcients of the polynomial cost function\nres res_g - Int - True / false indicator for RES generators","category":"section"},{"location":"comp/gen/#Variables","page":"Generators","title":"Variables","text":"Optimisation variables representing generator behaviour\n\nname symb. unit formulation definition\npg P_g p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Active power set point of generator g\nqg Q_g p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Active power set point of generator g\nalpha_g alpha_g - ACP, ACR, LPAC, IVR, SOC, DCP, NF On / off status of generator g, binary\nbeta_g beta_g - ACP, ACR, LPAC, IVR, SOC, DCP, NF Start-up decision for generator g, binary or continous -> setting \"relaxucbinaries\"\ngamma_g gamma_g - ACP, ACR, LPAC, IVR, SOC, DCP, NF Shut-down decision for generator g, binary or continous -> setting \"relaxucbinaries\"\ndpg_up Delta P_g^uparrow p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Upwards re-dispatch of generator g\ndpg_down Delta P_g^downarrow p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Downwards re-dispatch of generator g\npg_droop Delta P_g^fcr p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF FCR contribution of generator g\npgdroopabs Delta P_g^fcrabs p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Absolute value of FCR contribution of generator g","category":"section"},{"location":"comp/gen/#Constraints","page":"Generators","title":"Constraints","text":"","category":"section"},{"location":"comp/gen/#Active-and-reactive-power-limits","page":"Generators","title":"Active and reactive power limits","text":"beginalign\n underlineP_g leq P_g leq overlineP_g \n underlineQ_g leq P_g leq overlineQ_g \nendalign","category":"section"},{"location":"comp/gen/#Upwards-and-downwards-redispatch-limits","page":"Generators","title":"Upwards and downwards redispatch limits","text":"beginalign\n 0 leq Delta P_g^uparrow leq overlineP_g - underlineP_g  \n 0 leq Delta P_g^downarrowleq overlineP_g - underlineP_g \nendalign","category":"section"},{"location":"comp/gen/#FCR-provision-limits","page":"Generators","title":"FCR provision limits","text":"beginalign\n -(overlineP_g - underlineP_g) cdot delta_g^fcr  leq Delta P_g^fcr leq (overlineP_g - underlineP_g) cdot delta_g^fcr \n0 leq Delta P_g^fcrabs leq (overlineP_g - underlineP_g) cdot delta_g^fcr \nendalign","category":"section"},{"location":"comp/gen/#Unit-commitment-constraints","page":"Generators","title":"Unit commitment constraints","text":"beginalign\n underlineP_g cdot alpha_gt leq P_gt leq overlineP_g cdot alpha_gt \n P_gt - P_gt-1 leq Lambda_g alpha_gt + (underlineP_g - Lambda_g) \n P_gt-1 - P_gt leq Lambda_g alpha_gt + underlineP_g cdot gamma_gt \n alpha_gt geq sum_t=t+1-mut_g^t beta_gt \n1-alpha_gt geq sum_t=t+1-mdt_g^t gamma_gt \n0 =alpha_gt-1 - alpha_gt + beta_gt - gamma_gt \nendalign","category":"section"},{"location":"variables/#Variables","page":"Variables","title":"Variables","text":"","category":"section"},{"location":"variables/#Functions","page":"Variables","title":"Functions","text":"We provide the following methods to provide a compositional approach for defining common variables used in power flow models. These methods should always be defined over \"GenericPowerModel\", from the base PowerModels.jl.","category":"section"},{"location":"problems/#Problem-types","page":"Problem Types","title":"Problem types","text":"Following problem types have been implemented within PowerModelsACDC.jl. Example scripts to run the various problem types can be found under test/scripts.","category":"section"},{"location":"problems/#Hybrid-AC/DC-optimal-power-flow","page":"Problem Types","title":"Hybrid AC/DC optimal power flow","text":"run_acdcopf(file or data, formulation, solver, setting)","category":"section"},{"location":"problems/#Hybrid-AC/DC-power-flow","page":"Problem Types","title":"Hybrid AC/DC power flow","text":"run_acdcpf(file or data, formulation, solver, setting)","category":"section"},{"location":"problems/#Sequential-Hybrid-AC/DC-power-flow-(Native)","page":"Problem Types","title":"Sequential Hybrid AC/DC power flow (Native)","text":"run_sacdcpf(file or data)","category":"section"},{"location":"problems/#DC-grid-TNEP-problem-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"DC grid TNEP problem (optimal placement of converters and dc branches)","text":"run_tnepopf(file or data, formulation, solver, setting)","category":"section"},{"location":"problems/#DC-grid-TNEP-problem-in-branch-flow-formulation-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"DC grid TNEP problem in branch flow formulation (optimal placement of converters and dc branches)","text":"run_tnepopf_bf(file or data, formulation, solver, setting)","category":"section"},{"location":"problems/#Multi-period-DC-grid-TNEP-problem-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"Multi-period DC grid TNEP problem (optimal placement of converters and dc branches)","text":"run_mp_tnepopf(data, formulation, solver, setting)\n\nThis problem type uses the multi-network functionality of PowerModels.jl.","category":"section"},{"location":"problems/#Multi-period-DC-grid-TNEP-problem-in-branch-flow-formulation-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"Multi-period DC grid TNEP problem in branch flow formulation (optimal placement of converters and dc branches)","text":"run_mp_tnepopf_bf(data, formulation, solver, setting)\n\nThis problem type uses the multi-network functionality of PowerModels.jl.","category":"section"},{"location":"problems/#AC/DC-grid-TNEP-problem-(optimal-placement-of-ac-branches,-converters-and-dc-branches)","page":"Problem Types","title":"AC/DC grid TNEP problem (optimal placement of ac branches, converters and dc branches)","text":"run_acdctnepopf(file or data, formulation, solver, setting)","category":"section"},{"location":"problems/#AC/DC-grid-TNEP-problem-in-branch-flow-formulation-(optimal-placement-of-ac-branches,-converters-and-dc-branches)","page":"Problem Types","title":"AC/DC grid TNEP problem in branch flow formulation (optimal placement of ac branches, converters and dc branches)","text":"run_acdctnepopf_bf(file or data, formulation, solver, setting)\n\nThis problem type is currently not working as the ac grid TNEP problem in branch flow formulation is not implemented in PowerModels.jl.","category":"section"},{"location":"problems/#Multi-period-AC/DC-grid-TNEP-problem-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"Multi-period AC/DC grid TNEP problem (optimal placement of converters and dc branches)","text":"run_mp_tnepopf(data, formulation, solver, setting)\n\nThis problem type uses the multi-network functionality of PowerModels.jl.","category":"section"},{"location":"problems/#Multi-period-AC/DC-grid-TNEP-problem-in-branch-flow-formulation-(optimal-placement-of-converters-and-dc-branches)","page":"Problem Types","title":"Multi-period AC/DC grid TNEP problem in branch flow formulation (optimal placement of converters and dc branches)","text":"run_mp_tnepopf_bf(data, formulation, solver, setting)\n\nThis problem type uses the multi-network functionality of PowerModels.jl. This problem type is currently not working as the ac grid TNEP problem in branch flow formulation is not implemented in PowerModels.jl.","category":"section"},{"location":"objective/#Objective","page":"Objective","title":"Objective","text":"OPF Objective\n\nMinimisation of active power geneation costs\n\nTNEP Objectives\n\nMinimisation of consturction cost for HVDC branches and converters\nMinimisation of consturction cost for HVDC branches and converters and AC branches (acdc_tnep)\nMinimisation of consturction cost for HVDC branches and converters and generation costs\nMinimisation of consturction cost for HVDC branches and converters and generation costs and AC branches(acdc_tnep)","category":"section"},{"location":"objective/#PowerModelsACDC.objective_min_operational_cost","page":"Objective","title":"PowerModelsACDC.objective_min_operational_cost","text":"Sum of generation, demand reduction and demand shedding costs\n\n\n\n\n\n","category":"function"},{"location":"objective/#PowerModelsACDC.objective_min_operational_capex_cost","page":"Objective","title":"PowerModelsACDC.objective_min_operational_capex_cost","text":"Sum of generation, demand reduction, demand shedding and AC/DC equipment investment costs\n\n\n\n\n\n","category":"function"},{"location":"objective/#PowerModelsACDC.objective_min_rd_cost","page":"Objective","title":"PowerModelsACDC.objective_min_rd_cost","text":"Sum of generation redisptach costs\n\n\n\n\n\n","category":"function"},{"location":"objective/#PowerModelsACDC.objective_min_rd_cost_inertia","page":"Objective","title":"PowerModelsACDC.objective_min_rd_cost_inertia","text":"Sum of generation redisptach and generaor start-up costs costs to ensure minimum inertia level\n\n\n\n\n\n","category":"function"},{"location":"objective/#PowerModelsACDC.objective_min_cost_uc","page":"Objective","title":"PowerModelsACDC.objective_min_cost_uc","text":"objective_min_cost_uc(pm::_PM.AbstractPowerModel; report::Bool=true, droop = false)\n\nFormulate the UC objective: sum of generator operational and start-up costs plus demand reduction and shedding costs over the scheduling horizon.\n\nInputs\n\npm::_PM.AbstractPowerModel : PowerModels internal model holder.\nreport::Bool : When true, objective may prepare internal reporting structures (default true).\ndroop::Bool : Reserved flag for droop-related cost terms (default false).\n\nReturns\n\nA JuMP objective expression added to pm.model minimizing total UC cost.\n\nDetails\n\nFor each scheduling hour in pm.ref[:it][:pm][:hour_ids], the generator cost includes:\nstart-up cost component (via binary indicator beta_g and generator pmax),\nvariable fuel cost (linear term on pg) and start-up fixed cost (via alpha_g).\nAdds load reduction and load curtailment costs obtained from calc_load_operational_cost_uc(pm).\n\n\n\n\n\n","category":"function"},{"location":"objective/#PowerModelsACDC.objective_min_cost_fcuc","page":"Objective","title":"PowerModelsACDC.objective_min_cost_fcuc","text":"Sum of generator operational and start-up costs, FCR and FFR costs, demand reduction and demand shedding costs\n\n\n\n\n\n","category":"function"},{"location":"comp/acbranch/#AC-Branches","page":"AC Branches","title":"AC Branches","text":"AC Branches represent overhead lines, transformers and underground cables within AC grids.","category":"section"},{"location":"comp/acbranch/#Parameters","page":"AC Branches","title":"Parameters","text":"Set of parameters used to model DC branches as defined in the input data\n\nname symb. unit type default definition\nindex b - Int - unique index of the AC branch\nf_bus i - Int - unique index of the bus to which the AC branch is originating from\nt_bus j - Int - unique index of the bus to which the AC branch is terminating at\nr r_ac p.u. Real - resistance of the AC branch\nl l_ac p.u. Real - inductance of the AC branch\nc c_ac p.u. Real - capacitance of the AC branch\nrateA overlineS_b MW Real - long term rating of the AC branch\nrateB overlineS^st_b MW Real - short term term rating of the AC branch\nrateC overlineS^em_b MW Real - emergency rating of the AC branch\nstatus delta_b - Int - status indicator of the AC branch\ntap tau - Real - tap ratio of potential transformer tap\nshift varphi - Real - phase shift induced by PST if modelled as a fixed element\nangmin underlinetheta - Real - minimum allowable phase angle difference over AC branch\nangmax overlinetheta - Real - maximum allowable phase angle difference over AC branch\nconstruction_cost C_ac - Real - investment cost for AC branch used in TNEP problems","category":"section"},{"location":"comp/acbranch/#Variables","page":"AC Branches","title":"Variables","text":"Optimisation variables representing AC Branch behaviour\n\nname symb. unit formulation definition\np p_bij p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Active power flow through AC branch b, connecting AC nodes i and j\nq q_bij p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Reactive power flow through AC branch b, connecting AC nodes i and j\ncr Re(i_bij) p.u. IVR Real current flow through AC branch b, connecting AC nodes i and j\nci Im(i_bij) p.u. IVR Imaginary current flow through AC branch b, connecting AC nodes i and j\ncsr Re(i^s_bij) p.u. IVR Real current series flow through AC branch b, connecting AC nodes i and j\ncsi Im(i^s_bij) p.u. IVR Imaginary series current flow through AC branch b, connecting AC nodes i and j\ncshr_fr Re(i^sh_bi) p.u. IVR Real shunt current of AC branch b, at node i\ncshi_fr Im(i^sh_bi) p.u. IVR Imaginary shunt current of AC branch b, at node i\ncshr_to Re(i^sh_bj) p.u. IVR Real shunt current of AC branch b, at node j\ncshi_to Im(i^sh_bj) p.u. IVR Imaginary shunt current of AC branch b, at node j","category":"section"},{"location":"comp/acbranch/#Constraints","page":"AC Branches","title":"Constraints","text":"","category":"section"},{"location":"comp/acbranch/#Flow-and-voltage-angle-limits","page":"AC Branches","title":"Flow and voltage angle limits","text":"beginalign\n- overlineS_b leq P_dij leq overlineS_b \n- overlineS_b leq Q_dij leq overlineS_b \nsqrt(P_dij)^2 +(Q_dij)^2  leq overlineS_b \n0 leq I_bij leq overlineI_b  \n0 leq W_bij leq max(V_i^2 V_j^2)\nendalign","category":"section"},{"location":"comp/acbranch/#Ohm's-law","page":"AC Branches","title":"Ohm's law","text":"ACP model: consult power models for full implementation\n\nbeginalign\np_bij = g_b cdot (v_i)^2 - g_b cdot v_i cdot v_j cdot cos(theta_i - theta_j ) - b_b cdot v_i cdot v_j cdot sin(theta_i - theta_j)\nq_bij = -b_b cdot (v_i)^2 + b_b cdot v_i cdot v_j cdot cos(theta_i - theta_j ) - g_b cdot v_i cdot v_j cdot sin(theta_i - theta_j) \np_bji = g_b cdot (v_j)^2 - g_b cdot v_i cdot v_j cdot cos(theta_j - theta_i ) - b_b cdot v_i cdot v_j cdot sin(theta_j - theta_i) \nq_bji = -b_b cdot (v_j)^2 + b_b cdot v_i cdot v_j cdot cos(theta_j - theta_i ) - g_b cdot v_i cdot v_j cdot sin(theta_j - theta_i) \nendalign\n\nACR model: consult power models for full implementation\n\nbeginalign\np_bij = (g_b+g_bfr) cdot (Re(v_i)^2 + Im(v_i)^2) + (-g_b + b_b) cdot (Re(v_i)Re(v_j) + Im(_i)Im(v_j)) + (-g_b - b_b) cdot (Im(v_i)Re(v_j) - Re(v_i)Im(v_j))  \nq_bij = -(b_b+b_bfr) cdot (Re(v_i)^2 + Im(v_i)^2) - (-g_b - b_b) cdot (Re(v_i)Re(v_j) + Im(_i)Im(v_j)) + (-g_b + b_b) cdot (Im(v_i)Re(v_j) - Re(v_i)Im(v_j))  \np_bji = (g_b+g_bto) cdot (Re(v_j)^2 + Im(v_j)^2) + (-g_b + b_b) cdot (Re(v_i)Re(v_j) + Im(_i)Im(v_j)) + (-g_b - b_b) cdot (-(Im(v_i)Re(v_j) - Re(v_i)Im(v_j)))  \nq_bji = -(b_b+b_bto) cdot (Re(v_j)^2 + Im(v_j)^2) - (-g_b - b_b) cdot (Re(v_i)Re(v_j) + Im(_i)Im(v_j)) + (-g_b + b_b) cdot (-(Im(v_i)Re(v_j) - Re(v_i)Im(v_j)))  \nendalign\n\nIVR model: models the current flow explicitely, using a series current c_b^s and a shunt current c_b^sh\n\nLiniking powee flow to voltage and current:\n\nbeginalign\np_bij = Re(v_i) cdot Re(i_bij) + Im(v_i) cdot Im(i_bij)  \nq_bij = Im(v_i) cdot Re(i_bij) - Re(v_i) cdot Im(i_bij)  \np_bji = Re(v_j) cdot Re(i_bji) + Im(v_j) cdot Im(i_bji)  \nq_bji = Im(v_j) cdot Re(i_bji) - Re(v_j) cdot Im(i_bji)  \nendalign\n\nLinking series and shunt currents:\n\nbeginalign\nRe(i_bij) =  Re(i^s_bij) + g_bfr  cdot Re(v_i) - b_bfr cdot Im(v_i) \nIm(i_bij) =  Im(i^s_bij) + g_bfr  cdot Im(v_i) - b_bfr cdot Re(v_i)  \nRe(i_bji) =  Re(i^s_bji) + g_bto  cdot Re(v_j) - b_bto cdot Im(v_j) \nIm(i_bji) =  Im(i^s_bji) + g_bto  cdot Im(v_j) - b_bto cdot Re(v_j) \nendalign\n\nVoltage drop:\n\nbeginalign\nRe(v_j) =  Re(v_i) - r_b cdot Re(i^s_bij) + x_b cdot Im(i^s_bij) \nIm(v_j) =  Im(v_i) - r_b cdot Im(i^s_bij) - x_b cdot Re(i^s_bij) \nendalign\n\nSOC, QC bus injection model (BIM): #todo\n\nSOC, QC branch flow model (BFM): #todo\n\nDCP model:\n\nbeginalign\n    p_bij = -b_b cdot(thetai - thetaj) \n    p_bji = -b_b cdot(thetaj - thetai) \nendalign\n\nNF model: In this model there are no losses, no impedances, as such only the active power limits are binding.","category":"section"},{"location":"comp/dcconv/#DC-Converter-Stations","page":"DC Converter Stations","title":"DC Converter Stations","text":"DC converter stations connect an AC bus i with a DC bus d. A converter station model in PowerModelsACDC includes:\n\na station transformer,\na harmonic filter (capacitive bank + series phase inductor),\nthe power-electronic converter (VSC or LCC variants),\nauxiliary device models (reactor, transformer leakage, control blocks).\n\nSee diagram: Converter","category":"section"},{"location":"comp/dcconv/#Overview","page":"DC Converter Stations","title":"Overview","text":"Converters provide an interface between AC and DC systems and can:\n\nexchange active power between AC and DC sides,\nabsorb/generate reactive power on the AC side (VSC),\nenforce DC-side voltage/flow setpoints,\ncontribute to system frequency response via droop or synthetic inertia (VSC/HVDC controls),\nbe modeled with losses, current limits and device-specific constraints (firing angle for LCC).\n\nThe documentation below lists the standard model parameters, optimisation variables and the main constraints implemented in the package. See companion component docs (AC branches, DC branches, converters) for related primitives.","category":"section"},{"location":"comp/dcconv/#Converter-Models-and-Equations","page":"DC Converter Stations","title":"Converter Models and Equations","text":"Two principal converter formulations are supported:\n\nVSC (Voltage-Source Converter)\nBehaviour: controllable AC active and reactive power at the AC terminal; DC-side power is matched with AC-side power minus losses.\nKey relations:\nAC/DC power balance: pconvdc = pconvac - Ploss(pconv_ac)\nReactive capability constraint (if modeled): -Qrated  qconvac  Q_rated\nCurrent limit (thermal constraint): iconv^2  (pconvac^2 + qconvac^2) / vac^2 (or equivalent on DC side)\nDroop / FCR participation: pgdroop and pconvin variables are linked through droop law constraints if droop/HVDC inertia is enabled.\nLCC (Line-Commutated Converter)  islcc == 1\nBehaviour: firing-angle controlled; active power related to firing angle and DC voltage.\nTypical relations (simplified representation used in optimization):\npconvac approximated as function of firing angle 留 and DC quantities (nonlinear). In practice PowerModelsACDC implements a linearised or constrained surrogate: pconvac = f(留, vac, vdc)  (implemented via heuristic constraints or convex relaxations)\nFiring-angle constraints: 留min  留  留max\nWhen converter outage is enforced, 留 and powers are forced to zero.\n\nLoss modelling:\n\nPolynomial loss model (if coefficients provided): Ploss(P) = a P^2 + b P + c\nAlternatively, fixed efficiency 侶conv may be used: pconvdc = 侶conv * pconvac\nLoss proxies and linearisations are used where necessary to keep the problem tractable (linear/quadratic/conic relaxations depending on backend).","category":"section"},{"location":"comp/dcconv/#Converter-Constraints-(implemented-primitives)","page":"DC Converter Stations","title":"Converter Constraints (implemented primitives)","text":"The package exposes and applies a consistent set of converter constraints. The key constraints commonly added by builder functions include:\n\nconstraintconverterlosses(pm, i; nw)\nEnforces the relationship between AC- and DC-side active powers and the chosen loss model (polynomial or efficiency).\nFor polynomial losses: pdc + Ploss(pac) == p_ac (sign conventions applied).\nFor efficiency: pdc == 侶conv * pac.\nconstraintconvertercurrent(pm, i; nw)\nEnforces current-based thermal limits. Depending on backend:\nFor full AC models: Iconv^2  (pconvac^2 + qconvac^2)/Vac^2 (or equivalent)\nFor DC-side aggregation: use ccm_dcgrid variables or dedicated current proxies.\nApplies Imax bound: 0  I_conv  Imax.\nconstraintconvtransformer(pm, i; nw)\nModels the station transformer tap/shifts and limits if present. Ensures voltage/angle linking between AC bus and converter internal node.\nconstraintconvreactor(pm, i; nw)\nModels series reactor behaviour (used in filtering and LCC smoothing). Connects converter internal node to DC filter/reactor variables.\nconstraintconvfilter(pm, i; nw)\nEnforces the effect of harmonic filter capacitance and series inductance on the AC terminal current/voltage balance.\nconstraintconvfiring_angle(pm, i; nw)\nLCC-specific constraint that imposes bounds on firing angle and (where linearised) connects 留 to active power setpoints.\nApplied only when islcc == 1 for converter i.\nconstraintactiveconv_setpoint(pm, i; nw, slack = 0.01)\nOptional helper that fixes (or tightly bounds) the active setpoint of converters (used for debugging or warm-starts).\nconstraintconvertercontingencies / constraintconverteroutage\nUsed in SCOPF/FCUC contingency stages to force converter behaviour during an outage (e.g., set pconv_ac == 0, disable 留 for LCC, zero flows, etc.).","category":"section"},{"location":"comp/dcconv/#Frequency-/-HVDC-contributions","page":"DC Converter Stations","title":"Frequency / HVDC contributions","text":"When frequency-security modelling is enabled, converters may be allowed to:\n\nprovide a transient FFR contribution (fast frequency response) or droop-based FCR,\ncontribute synthetic inertia approximations scaled by converter capability and time-constants t_hvdc.\n\nVariables and constraints used:\n\nvariablehvdccontribution: creates pconv (pconv_in) and absolute proxies used in frequency inequalities.\ncalculatehvdcffrcontribution, calculatehvdcfcrcontribution: helper expressions used in frequency nadir / settling inequalities.\n\nTime-constant based approximation:\n\nConverter FFR contribution often modelled as pconvin * min(1, T/thvdc)  shape-factor (see calculatehvdcffr_contribution).","category":"section"},{"location":"comp/dcconv/#Contingency-handling","page":"DC Converter Stations","title":"Contingency handling","text":"Converters are integrated into contingency primitives:\n\nDuring contingency stages the package can enforce converter outages, re-allocate droop variables and re-evaluate DC-side balance using auxiliary DC voltages (vdcm_star).\nVariables such as pconv_ac (reference stage) are linked to contingency stage variables via big-M indicator constraints and selection binaries for contingency selection.","category":"section"},{"location":"comp/dcconv/#Implementation-notes-and-backend-differences","page":"DC Converter Stations","title":"Implementation notes & backend differences","text":"Many converter constraints are implemented with different relaxations depending on the optimization backend (AC polar/cartesian, IVR, BFQP, BFConic, SOC/QC relaxations).\nLCC firing-angle nonlinearities are commonly linearised or represented by convex relaxations to keep problems tractable. The exact formulation depends on the builder and active ref_extensions.\nTNEP / candidate converters use \"ne\" variants of variables and constraints (e.g., :convdcne, constraintconvtransformerne, constraintconvfiringanglene) to support on/off linking with candidate indicator variables.","category":"section"},{"location":"comp/dcconv/#Examples","page":"DC Converter Stations","title":"Examples","text":"Typical VSC modelling (steady-state dispatch):\nset pconvac as variable, qconvac variable, enforce converter losses and current limits, allow qconv_ac to be used for voltage support.\nLCC modelling (HVDC bulk link):\nset islcc==1 for converter entries, use constraintconvfiringangle to limit 留 and link to pconvac, include station transformer and reactor constraints.","category":"section"},{"location":"comp/dcconv/#See-also","page":"DC Converter Stations","title":"See also","text":"docs/src/comp/ (other component descriptions: acbranch.md, branchdc.md, pst.md, sssc.md)\nimages/converter.pdf  schematic diagram used throughout the docs\nsource code primitives in src/components/ and src/formdcgrid/ for exact mathematical forms used by each modeling backend.","category":"section"},{"location":"comp/dcconv/#Parameters","page":"DC Converter Stations","title":"Parameters","text":"Common per-converter input parameters (data file keys and typical semantics):\n\nname symbol unit type default description\nindex c - Int - unique converter id\nac_bus i - Int - connected AC bus index\ndc_bus d - Int - connected DC bus index\nPacrated P_rated MW Real - rated AC active power capability\nQrated Q_rated MVAr Real - rated reactive power capability (VSC only)\nislcc islcc {0,1} Int 0 1 if LCC converter model (firing-angle representation), 0 for VSC\n侶conv eta - Real 1.0 converter efficiency (optional)\nPloss_coeff a,b,c MW Real vec [0,0,0] loss polynomial coefficients (aP^2 + bP + c)\nImax Imax A (p.u.) Real - maximum AC (or DC) current magnitude\nPac_min Pmin MW Real -P_rated minimum controllable AC power\nPac_max Pmax MW Real P_rated maximum controllable AC power\ndroop_enabled bool - Bool false enable droop/FCR contribution modeling\nt_hvdc tau s Real - HVDC time-constant for FFR/FCR modelling (for HVDC contribution)\nfiringanglelimits [留min, 留max] deg Real vec [-/2, 0] limits for LCC firing angle (if islcc==1)\nstatus 隆 {0,1} Int 1 converter online indicator\n\nNotes:\n\nAdditional per-converter keys may appear depending on the reference extensions (e.g., droop parameters, control-mode flags, DC filter/reactor values). Consult the input data for your case.","category":"section"},{"location":"comp/dcconv/#Variables","page":"DC Converter Stations","title":"Variables","text":"Major optimisation variables created per converter:\n\nvariable name symbol domain purpose\npconv_ac P_conv  AC-side active power of converter (positive from AC->DC or as signed convention used in data)\nqconv_ac Q_conv  AC-side reactive power (VSC only)\npconv_dc P_dc  DC-side signed power variable (linked to pconv_ac through loss relation or efficiency)\ni_conv I_conv 0 AC (or DC) current magnitude (for thermal limits)\nalpha_conv 留 (or firing_angle)  firing angle variable (LCC only)\nconv_on z_conv {0,1} on/off indicator for candidate or outage modelling\nrd_conv rdc  converter droop coefficient (if droop optimization enabled)\npconvin / pconvin_abs pconv,  / 0 HVDC frequency-response change and its absolute proxy\n\nAuxiliary variables (per converter / per-zone) used in frequency/security models:\n\nzone-aggregated converter contributions, absolute-value proxies for reserve sizing, converter auxiliary DC voltage variables for contingency stages.\n\nAll variables are registered via _PM.var(pm, nw) and prepared for reporting when enabled.","category":"section"},{"location":"comp/dcconv/#Variables-2","page":"DC Converter Stations","title":"Variables","text":"Optimisation variables representing AC Branch behaviour\n\nname symb. unit formulation definition\np p_bij p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Active power flow through AC branch b, connecting AC nodes i and j\nq q_bij p.u. ACP, ACR, LPAC, IVR, SOC, DCP, NF Reactive power flow through AC branch b, connecting AC nodes i and j\ncr Re(i_bij) p.u. IVR Real current flow through AC branch b, connecting AC nodes i and j\nci Im(i_bij) p.u. IVR Imaginary current flow through AC branch b, connecting AC nodes i and j\ncsr Re(i^s_bij) p.u. IVR Real current series flow through AC branch b, connecting AC nodes i and j\ncsi Im(i^s_bij) p.u. IVR Imaginary series current flow through AC branch b, connecting AC nodes i and j\ncshr_fr Re(i^sh_bi) p.u. IVR Real shunt current of AC branch b, at node i\ncshi_fr Im(i^sh_bi) p.u. IVR Imaginary shunt current of AC branch b, at node i\ncshr_to Re(i^sh_bj) p.u. IVR Real shunt current of AC branch b, at node j\ncshi_to Im(i^sh_bj) p.u. IVR Imaginary shunt current of AC branch b, at node j\n\nNF model: In this model there are no losses, no impedances, as such only the active power limits are binding.","category":"section"},{"location":"#PowerModelsACDC.jl-Documentation","page":"Home","title":"PowerModelsACDC.jl Documentation","text":"","category":"section"},{"location":"#Overview","page":"Home","title":"Overview","text":"PowerModelsACDC.jl is a Julia/JuMP package extending PowerModels.jl, which focuses on Steady-State Power Network Optimization. PowerModels.jl provides utilities for parsing and modifying network data and is designed to enable computational evaluation of emerging power network formulations and algorithms in a common platform.\n\nPowerModelsACDC.jl adds new problem types:\n\nPower flow with both ac and dc lines, from point-to-point connections to meshed grids, with converters connecting ac and dc grid lines\nThe equivalent optimal power flow problem type and TNEP problem type\n\nPowerModelsACDC.jl extends the formulation hierarchy developed for AC grids, with equivalent DC grid and converter station formulations:\n\nACPPowerModel\nACRPowerModel\nDCPPowerModel\nSOCWRPowerModel\nSDPWRMPowerModel\nQCWRPowerModel\nQCWRTriPowerModel\nLPACPowerModel\n\nDeveloped by:\n\nHakan Ergun, Jay Dave, KU Leuven / EnergyVille\nFrederik Geth, CSIRO","category":"section"},{"location":"#Installation-of-PowerModelsACDC","page":"Home","title":"Installation of PowerModelsACDC","text":"The latest stable release of PowerModelsACDC can be installed using the Julia package manager with\n\nPkg.add(\"PowerModelsACDC\")\n\nnote: Note\nThis is a research-grade optimization package.","category":"section"},{"location":"#Special-Thanks-To","page":"Home","title":"Special Thanks To","text":"Jef Beerten (KU Leuven/EnergyVille), for his insights in AC/DC power flow modelling.\nCarleton Coffrin (Los Alamos National Laboratory), for his countless design tips.","category":"section"}]
}
